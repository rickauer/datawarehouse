Tabela,Atributo,Tipo,Nulo?,Chave?,Restricoes_Descricao
locadora,id_locadora,SERIAL,Não,PK,"Identificador único da locadora (auto-incremento)."
locadora,nome_locadora,VARCHAR(255),Não,-,"Nome fantasia da locadora. Restrição: UNIQUE."
locadora,cnpj,VARCHAR(20),Não,-,"Cadastro Nacional da Pessoa Jurídica da locadora. Restrição: UNIQUE. Espera-se formato com máscara (ex: XX.XXX.XXX/XXXX-XX)."
patio,id_patio,SERIAL,Não,PK,"Identificador único do pátio (auto-incremento)."
patio,id_locadora,INTEGER,Não,FK,"Identificador da locadora principal associada ao pátio. Ref: locadora(id_locadora) ON UPDATE CASCADE ON DELETE RESTRICT."
patio,nome_patio,VARCHAR(255),Não,-,"Nome identificador do pátio (ex: 'Galeão T1', 'Santos Dumont Embarque', 'Shopping Rio Sul G3')."
patio,endereco_patio,VARCHAR(500),Não,-,"Endereço completo do pátio."
vaga,id_vaga,SERIAL,Não,PK,"Identificador único da vaga no pátio (auto-incremento)."
vaga,id_patio,INTEGER,Não,FK,"Identificador do pátio ao qual a vaga pertence. Ref: patio(id_patio) ON UPDATE CASCADE ON DELETE RESTRICT."
vaga,status_vaga,VARCHAR(50),Não,-,"Status atual da vaga (ex: 'LIVRE', 'OCUPADA', 'MANUTENCAO', 'RESERVADA'). Recomenda-se CHECK constraint."
grupo_veiculo,id_grupo_veiculo,SERIAL,Não,PK,"Identificador único do grupo/categoria de veículo (auto-incremento)."
grupo_veiculo,nome_grupo,VARCHAR(100),Não,-,"Nome descritivo do grupo de veículo (ex: 'Econômico Básico', 'SUV Compacto', 'Executivo Luxo'). Restrição: UNIQUE."
grupo_veiculo,faixa_valor,"NUMERIC(12,2)",Não,-,"Valor base da diária ou faixa de referência de valor para o grupo de veículos."
veiculo,id_veiculo,SERIAL,Não,PK,"Identificador único do veículo (auto-incremento)."
veiculo,id_grupo_veiculo,INTEGER,Não,FK,"Grupo/categoria ao qual o veículo pertence. Ref: grupo_veiculo(id_grupo_veiculo) ON UPDATE CASCADE ON DELETE RESTRICT."
veiculo,id_locadora_proprietaria,INTEGER,Não,FK,"Locadora proprietária do veículo. Ref: locadora(id_locadora) ON UPDATE CASCADE ON DELETE RESTRICT."
veiculo,id_vaga_atual,INTEGER,Sim,FK,"Vaga onde o veículo está estacionado atualmente (se aplicável). Ref: vaga(id_vaga) ON UPDATE CASCADE ON DELETE SET NULL."
veiculo,placa,VARCHAR(12),Não,-,"Placa de identificação do veículo (formato Mercosul ou anterior). Restrição: UNIQUE."
veiculo,chassi,VARCHAR(50),Não,-,"Número do chassi do veículo. Restrição: UNIQUE."
veiculo,cor,VARCHAR(50),Não,-,"Cor predominante do veículo."
veiculo,status_veiculo,VARCHAR(50),Não,-,"Status atual do veículo (ex: 'DISPONIVEL', 'ALUGADO', 'EM_MANUTENCAO', 'EM_PREPARACAO', 'INATIVO'). Recomenda-se CHECK constraint."
veiculo,mecanizacao,BOOLEAN,Não,-,"Tipo de transmissão. Ex: TRUE para automática, FALSE para manual."
veiculo,ar_condicionado,BOOLEAN,Não,-,"Indica se o veículo possui ar condicionado (TRUE/FALSE)."
veiculo,marca,VARCHAR(100),Não,-,"Marca do veículo (ex: 'FIAT', 'VOLKSWAGEN', 'HYUNDAI')."
prontuario,id_registro_manutencao,SERIAL,Não,PK,"Identificador único do registro de manutenção (auto-incremento)."
prontuario,id_veiculo,INTEGER,Não,FK,"Veículo ao qual o registro de manutenção se refere. Ref: veiculo(id_veiculo) ON UPDATE CASCADE ON DELETE RESTRICT."
prontuario,data_ultima_manutencao,DATE,Não,-,"Data em que a manutenção ou inspeção foi realizada."
prontuario,estado_conservacao,VARCHAR(100),Não,-,"Descrição do estado de conservação geral do veículo no momento do registro."
prontuario,caracteristica_rodagem,VARCHAR(100),Não,-,"Observações sobre as características de rodagem (ex: 'Pneus novos', 'Alinhamento OK')."
prontuario,pressao_pneus,"NUMERIC(6,2)",Não,-,"Pressão registrada dos pneus (ex: em PSI ou BAR)."
prontuario,nivel_oleo,"NUMERIC(6,2)",Não,-,"Nível do óleo do motor registrado (ex: em porcentagem do ideal ou litros)."
foto_veiculo,id_foto_veiculo,SERIAL,Não,PK,"Identificador único da foto do veículo (auto-incremento)."
foto_veiculo,id_veiculo,INTEGER,Não,FK,"Veículo ao qual a foto pertence. Ref: veiculo(id_veiculo) ON UPDATE CASCADE ON DELETE CASCADE."
foto_veiculo,tipo_foto,VARCHAR(50),Não,-,"Tipo ou finalidade da foto (ex: 'EXTERNA_DIANTEIRA', 'INTERNA_PAINEL', 'AVARIA_ENTREGA', 'AVARIA_DEVOLUCAO', 'MARKETING'). Recomenda-se CHECK constraint."
foto_veiculo,data_foto,TIMESTAMP,Não,-,"Data e hora em que a foto foi tirada ou adicionada ao sistema."
veiculo_acessorio,id_veiculo_acessorio,SERIAL,Não,PK,"Identificador único do registro de acessório do veículo (auto-incremento)."
veiculo_acessorio,id_veiculo,INTEGER,Não,FK,"Veículo ao qual o acessório está associado. Ref: veiculo(id_veiculo) ON UPDATE CASCADE ON DELETE CASCADE."
veiculo_acessorio,nome,VARCHAR(100),Não,-,"Nome do acessório (ex: 'Cadeira de bebê', 'GPS integrado', 'Suporte para bicicleta')."
veiculo_acessorio,valor,"NUMERIC(10,2)",Não,-,"Valor adicional do acessório para locação (pode ser 0.00 se incluído no grupo)."
cliente,id_cliente,SERIAL,Não,PK,"Identificador único do cliente (auto-incremento)."
cliente,tipo_cliente,VARCHAR(20),Não,-,"Tipo de cliente. Ex: 'PESSOA_FISICA', 'PESSOA_JURIDICA'. Recomenda-se CHECK constraint."
cliente,data_cadastro,TIMESTAMP,Não,-,"Data e hora do cadastro do cliente no sistema."
cliente,email,VARCHAR(255),Não,-,"Endereço de e-mail principal do cliente. Restrição: UNIQUE."
cliente,telefone_principal,VARCHAR(20),Não,-,"Número de telefone principal para contato."
pessoa_fisica,id_cliente,INTEGER,Não,"PK, FK","Identificador do cliente, herda de cliente. Ref: cliente(id_cliente) ON UPDATE CASCADE ON DELETE CASCADE."
pessoa_fisica,nome_completo,VARCHAR(255),Não,-,"Nome completo do cliente pessoa física."
pessoa_fisica,cpf,VARCHAR(14),Não,-,"Cadastro de Pessoa Física do cliente. Restrição: UNIQUE. Espera-se formato com máscara (ex: XXX.XXX.XXX-XX)."
pessoa_fisica,data_nascimento,DATE,Não,-,"Data de nascimento do cliente."
pessoa_juridica,id_cliente,INTEGER,Não,"PK, FK","Identificador do cliente, herda de cliente. Ref: cliente(id_cliente) ON UPDATE CASCADE ON DELETE CASCADE."
pessoa_juridica,nome_empresa,VARCHAR(255),Não,-,"Nome da empresa (razão social ou nome fantasia). Restrição: UNIQUE."
pessoa_juridica,cnpj,VARCHAR(20),Não,-,"Cadastro Nacional da Pessoa Jurídica. Restrição: UNIQUE. Espera-se formato com máscara (ex: XX.XXX.XXX/XXXX-XX)."
motorista,id_motorista,SERIAL,Não,PK,"Identificador único do motorista (auto-incremento)."
motorista,id_pessoa_fisica,INTEGER,Não,FK,"Identificador da pessoa física que é o motorista. Garante que um motorista é uma pessoa física cadastrada. Ref: pessoa_fisica(id_cliente) ON UPDATE CASCADE ON DELETE RESTRICT. Restrição: UNIQUE (uma pessoa física é um único motorista)."
cnh,id_cnh,SERIAL,Não,PK,"Identificador único do registro da CNH (auto-incremento)."
cnh,id_motorista,INTEGER,Não,FK,"Motorista ao qual esta CNH pertence. Relação 1:1. Ref: motorista(id_motorista) ON UPDATE CASCADE ON DELETE CASCADE. Restrição: UNIQUE."
cnh,numero_cnh,VARCHAR(20),Não,-,"Número da Carteira Nacional de Habilitação. Restrição: UNIQUE."
cnh,categoria_cnh,VARCHAR(5),Não,-,"Categoria da CNH (ex: 'A', 'B', 'AB', 'C', 'D', 'E'). Recomenda-se CHECK constraint."
cnh,data_validade,DATE,Não,-,"Data de validade da CNH."
reserva,id_reserva,SERIAL,Não,PK,"Identificador único da reserva (auto-incremento)."
reserva,id_veiculo,INTEGER,Não,FK,"Veículo específico reservado. Ref: veiculo(id_veiculo) ON UPDATE CASCADE ON DELETE RESTRICT."
reserva,data_hora_reserva_inicio,TIMESTAMP,Não,-,"Data e hora de início da locação conforme a reserva."
reserva,data_hora_retirada_fim,TIMESTAMP,Não,-,"Data e hora prevista para devolução do veículo na reserva. (Nome pode ser confuso, considerar renomear para data_hora_devolucao_prevista no futuro)."
contrato,id_contrato,SERIAL,Não,PK,"Identificador único do contrato de locação (auto-incremento)."
contrato,id_reserva,INTEGER,Sim,FK,"Reserva que originou este contrato (opcional). Ref: reserva(id_reserva) ON UPDATE CASCADE ON DELETE SET NULL."
contrato,id_cliente,INTEGER,Não,FK,"Cliente que realizou a locação. Ref: cliente(id_cliente) ON UPDATE CASCADE ON DELETE RESTRICT."
contrato,id_locadora,INTEGER,Não,FK,"Locadora responsável pelo contrato. Ref: locadora(id_locadora) ON UPDATE CASCADE ON DELETE RESTRICT."
contrato,id_motorista,INTEGER,Não,FK,"Motorista principal registrado para a locação. Ref: motorista(id_motorista) ON UPDATE CASCADE ON DELETE RESTRICT."
contrato,id_veiculo,INTEGER,Não,FK,"Veículo objeto da locação. Ref: veiculo(id_veiculo) ON UPDATE CASCADE ON DELETE RESTRICT."
contrato,id_patio_retirada,INTEGER,Não,FK,"Pátio onde o veículo foi efetivamente retirado. Ref: patio(id_patio) ON UPDATE CASCADE ON DELETE RESTRICT."
contrato,id_patio_devolucao_efetiva,INTEGER,Sim,FK,"Pátio onde o veículo foi efetivamente devolvido. Ref: patio(id_patio) ON UPDATE CASCADE ON DELETE SET NULL. Preenchido no final da locação."
contrato,data_hora_contrato,TIMESTAMP,Não,-,"Data e hora em que o contrato foi firmado/registrado no sistema."
contrato,status_locacao,VARCHAR(50),Não,-,"Status atual da locação (ex: 'ATIVA', 'FINALIZADA', 'CANCELADA', 'AGUARDANDO_RETIRADA', 'ATRASADA'). Recomenda-se CHECK constraint."
protecao_adicional,id_protecao_adicional,SERIAL,Não,PK,"Identificador único do registro de proteção adicional (auto-incremento)."
protecao_adicional,id_contrato,INTEGER,Não,FK,"Contrato ao qual esta proteção adicional está vinculada. Ref: contrato(id_contrato) ON UPDATE CASCADE ON DELETE CASCADE."
protecao_adicional,nome_protecao,VARCHAR(100),Não,-,"Nome/descrição da proteção adicional contratada (ex: 'Proteção de Vidros e Faróis', 'Cobertura para Terceiros Ampliada')."
protecao_adicional,valor_cobrado,"NUMERIC(10,2)",Não,-,"Valor cobrado pela proteção adicional."
cobranca,id_fatura,SERIAL,Não,PK,"Identificador único da fatura/cobrança (auto-incremento)."
cobranca,id_contrato,INTEGER,Não,FK,"Contrato ao qual esta cobrança se refere. Ref: contrato(id_contrato) ON UPDATE CASCADE ON DELETE RESTRICT."
cobranca,numero_fatura,VARCHAR(50),Não,-,"Número identificador único da fatura. Restrição: UNIQUE."
cobranca,data_emissao,DATE,Não,-,"Data de emissão da fatura."
cobranca,valor,"NUMERIC(12,2)",Não,-,"Valor total da fatura."
cobranca,status_fatura,VARCHAR(50),Não,-,"Status da fatura (ex: 'PENDENTE', 'PAGA', 'VENCIDA', 'PARCIALMENTE_PAGA', 'CANCELADA'). Recomenda-se CHECK constraint."
